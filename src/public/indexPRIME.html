
<!DOCTYPE html>
<html>
<head>
  <title>Nineteen10 Multiplayer</title>
  <meta charset="utf-8" />
  <style>
    body { font-family: sans-serif; padding: 2rem; background: #e0e0e0; }
    #nicknameArea { margin-bottom: 2rem; }
    #gameArea { display: none; }
  </style>
</head>
<body>
  <div id="nicknameArea">
    <h2>Inserisci il tuo nickname:</h2>
    <input type="text" id="nicknameInput" placeholder="Il tuo nome" maxlength="12" />
    <button onclick="joinGame()">Inizia partita</button>
    <p id="waiting" style="display:none;">In attesa di un altro giocatore...</p>
  </div>

  <div id="gameArea">
    <h3 id="status">Gioco avviato</h3>
    <!-- Qui andrà l'interfaccia del gioco -->
                              <head>   
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <link rel="stylesheet" href="mystyle.css">  
                            <script>
                            function isMobile() {           
                                 return /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                              }
                            function redirectToMobile() {
                                if (isMobile()) {
                                    // Fai il redirect alla pagina mobile.html
                                    window.location.href = "nineteen-10.htm"; 
                                   }
                               }
                            window.addEventListener('load', redirectToMobile);
                            </script> 
                            <!--  <script src="js/nineteen10_dec.js" ></script> -->
                            <script src="js/nineteen10.js" ></script>
                            <script src="js/seldes.js"></script> 
                            <script src="js/tog2.js"></script>       
                          </head>
                          <!-- Google tag (gtag.js) -->
                          <script async src="https://www.googletagmanager.com/gtag/js?id=G-HMJYLJ4F94"></script>
                          <script>
                            window.dataLayer = window.dataLayer || [];
                            function gtag(){dataLayer.push(arguments);}
                            gtag('js', new Date());
                          
                            gtag('config', 'G-HMJYLJ4F94');
                          </script>   
                          <body class="bodysfo"  onload="init()" >   
                          <div class="container">
                                       
                            <table height="100%" width="100%" style="margin : 0 auto;">
                              <tr>        
                                  <td align="center" width="15%" id="lgtd"  style="position :absolute;">
                                    <br><br><br>
                                      <div id="Player1" >                      
                                      <img name="pl2_1" class="retro" /><br><br>
                                      <img name="pl2_2" class="retro" /><br><br>
                                      <img name="pl2_3" class="retro" /><br><br>
                                      <img name="pl2_4" class="retro" /><br><br>
                                      <div id="LG" class="plname">&beta;eta</div>
                                    </div>   
                                  </td>              
                                  <td align="center" width="70%" >  
                                      <table height="100%" width="100%">
                                        <tr>                              
                                          <td  height="10%" id="gutd"> <!-- quÃ¬ tiro su, da 20 a 10-->                        
                                             <div id="Player2"> 
                                                    <input type="button" value="R E G O L E" onclick="toggle2()" id="regole">
                                                   
                                                     <div id="overlay2" style="display: none">                         
                                                      <img id="regoldoc" alt="" />
                                                    </div>                    
                                                <img name="pl3_1" class="retro" style="margin-left: 20%;"/> &ensp;                       
                                                <img name="pl3_2" class="retro" />  &ensp;
                                                <img name="pl3_3" class="retro" />  &ensp;
                                                <img name="pl3_4" class="retro" />  
                                                <a id="GU" class="plname">&lambda;amda</a>                    
                                           </div>
                                     <!--      <div id="GU" class="plname">&lambda;amda</div> -->
                                          </td>
                                       </tr>  
                               <tr>       
                                  <td height="60%" width="70%"align="center">       
                                   <table id="panno" class="green" >
                                    <tr>
                                      <td colspan="3" height="20%" align="center" >                                      
                                        <img id="retroround" />              
                                        <img id="round" />
                                     </td>   
                                    </tr>   
                                    <tr>
                                       <!--<td align="center" height="20%" width="20%"  >-->
                                       <td align="center" height="20%" width="37.5%"  >
                                          <div id="Estraz1" class="retros" >                     
                                          </div>
                                       </td> 
                                       <td align="center" height="20%" width="25%" >   <!--width="30%" > -->                     
                                            <div id="ammazzo">
                                                <center><img name="mazzo" id="mazzos" onclick="estrai()" onmouseover="selcard(0)" onmouseout="deselcard(0)"/> </center>
                                              <img id="logos"> 
                                          </div>
                                       </td>
                                       <td align="center" height="20%" width="37.5%">  <!--width="20%">-->
                                          <div id="Estraz3" class="retros">                    
                                          </div>
                                       </td> 
                                    </tr>
                                    <tr>
                                     <td height="20%" > 
                                      <img id="estr_win"/>
                                      <a class="plname2" id="estratte"></a> 
                                    </td> 
                                     <td height="20%" align="center" >
                                      <!-- <div style="z-index: 2;width: 25%; float: left; display: block;">FIGA -->
                                        <img id="youestraz"/>      
                                      </td> 
                                       <td height="20%"></td> 
                                    </tr>                          
                                   </table>                       
                                  </td> <!--chiusura cella centrale -->
                              </tr>
                                <tr>
                                  <td align="center"  height="30%" id="youtd" >                             
                                     <img name="plx1" width="80" height="110" onclick="sostituzione(1)" style="border-radius: 7px;" onmouseover="selcard(1)" onmouseout="deselcard(1)">        
                                     <img name="plx2" width="80" height="110" onclick="sostituzione(2)" style="border-radius: 7px;" onmouseover="selcard(2)" onmouseout="deselcard(2)">          
                                     <img name="plx3" width="80" height="110" onclick="sostituzione(3)" style="border-radius: 7px;" onmouseover="selcard(3)" onmouseout="deselcard(3)">          
                                     <img name="plx4" width="80" height="110" onclick="sostituzione(4)" style="border-radius: 7px;" onmouseover="selcard(4)" onmouseout="deselcard(4)">                                                                        
                                     <!-- <div id="YOU" class="plname">&alpha;lpha</div> -->
                                     <a id="YOU" class="plname" style="margin-left: 1%;margin-top:2.5%; position: absolute;">&alpha;lpha</a> 
                                  </td> 
                                </tr> 
                            </table> 
                            </td>                                                   
                           <td align="center" width="15%" id="rgtd" style="position :absolute;">
                             <br><br><br>
                             <div id="Player3">
                                 <img name="pl4_1" class="retro" /> <br> <br>
                                 <img name="pl4_2" class="retro" /> <br> <br>
                                 <img name="pl4_3" class="retro" /> <br> <br>
                                 <img name="pl4_4" class="retro" /> <br>
                                 <br><div id="RG" class="plname">&delta;elta</div>
                              </div>     
                            </td> 
                          </tr>
                          </table> 
                          <div id="overlay" >
                            <div id="finestra">                                                            
                              <div id="engl"> 
                                 <input type="button" value="R e s t a r t" onclick="window.open('nineteen10.htm','_self')" id="endwind"> 
                                 <input type="button" value="C l o s e" onmousedown="toggle()" id="endwind">      
                               </div> 
                               <div class="caption">
                                <img id="thewin" alt="" />      
                                <span id="end"></span><br><br>
                                <span id="classifica"> </span> <br>              
                                  <span id="classifica1"> </span> <br>
                                    <span id="classifica2"> </span> <br>
                                      <span id="classifica3"> </span> <br>
                                        <span id="classifica4"> </span>            
                                </div>                                                        
                            </div>             
                          </div>
                            
                          </div>  
                          </body>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();
    let room = '';

    function joinGame() {
      const nick = document.getElementById('nicknameInput').value.trim() || 'Player';
      socket.emit('setNickname', nick);
      document.getElementById('waiting').style.display = 'block';
    }

    socket.on('waiting', () => {
      document.getElementById('waiting').textContent = 'In attesa di un altro giocatore...';
    });

    socket.on('startGame', (data) => {
      room = data.room;
      document.getElementById('nicknameArea').style.display = 'none';
      document.getElementById('gameArea').style.display = 'block';
      document.getElementById('status').textContent = 'Sfida contro ' + data.players.find(p => p !== socket.nickname);
    });

    // Qui potrai gestire gli eventi del gioco
  </script>
</body>
</html>
